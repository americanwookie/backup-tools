1. Install and update raspian
2. Install docker
3. Build hass:
mkdir ~/working
cd ~/working
git clone https://github.com/americanwookie/hass-custom.git #cur at 5ee6830f74c3e82e7f783333b9209e7ac21430b5
cd hass-custom
sudo docker build -t scott-hass .
4. Build unifi thingy
cd ~/working
git clone  https://github.com/americanwookie/unifi-api.git #cur at 59ce5c5362ba63d3a7a874b03970b8176439dead
cd unifi-api
sudo docker build -t unifi-api .
5. Create smokeping container
sudo docker create --name=smokeping -e PUID=1001 -e PGID=1001 -e TZ=America/Chicago -p 80:80 -v /home/pi/binddirs/smokeping/config:/config -v /home/pi/binddirs/smokeping/data:/data --restart unless-stopped linuxserver/smokeping:arm32v6-latest
6. Populate ~/binddirs
mkdir -p ~/bindirs/hass-config
mkdir -p ~/bindirs/smokeping/{data,config}
chown 1001:1001 ~/bindirs/smokeping/{data,config}
#TODO recover backups from s3 for smokeping data
7. Start smokeping:
sudo docker start smokeping
8. Start unifi:
sudo docker run -d --name="unifi-api" unifi-api
9. Start hass:
sudo docker run -d --name="home-assistant-2019" -v ~/binddirs/hass-config:/config -v /etc/localtime:/etc/localtime:ro --net=host --device=/dev/ttyACM0:/dev/ttyACM0:rwm --restart unless-stopped scott-hass
